args: []

kwargs:
  path: /home/alex/awesome/ZooM/datasets/data.yaml

modules: # module to import
  - ops

flow:
  - # Load the YAML dataset cfg file
    f: load_yaml
    args: [path]
    out: [classes, inputs, labels, root]

  - # Show the posibility to have subflows
    f: /home/alex/awesome/ZooM/flows/subflow.yaml
    loop: [inputs]
    args: [inputs, root]
    out: [imgs, masks]

  - # smooth image
    f: smooth
    args: [imgs]
    kwargs:
      sigma: [0, 3, 3, 0]
    out: [imgs]

  - # save images
    f: save_image
    loop: [imgs, masks, inputs]
    args: [imgs, masks, inputs]
    kwargs:
      dirname: datasets/data2

out: # output of the flow [varialbe_name, ...]
  - labels
